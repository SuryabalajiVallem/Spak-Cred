(this["webpackJsonpspak-cred"]=this["webpackJsonpspak-cred"]||[]).push([[0],{64:function(e,t,r){},65:function(e,t,r){},70:function(e,t,r){"use strict";r.r(t);var a=r(0),c=r.n(a),n=r(8),i=r.n(n),s=(r(64),r(65),r(18)),d=r(39),l=r(12),o=r(107),u=r(114),j=r(115),m=r(111),b=r(113),f=r(117),h=r(112),p=r(104),O=r(3),v=(new Date).getFullYear(),x=Array.from({length:12},(function(e,t){var r=t+1;return r<=9?"0"+r:r})),g=Array.from({length:9},(function(e,t){return v+t})),N=Object(p.a)((function(e){return{root:{flexGrow:1},paper:{height:140,width:100},control:{padding:e.spacing(2)},formControl:{minWidth:120}}}));function C(e){var t=e.onUpdateState,r=e.onFlipCreditCard,n=e.children,i=Object(a.useState)(""),s=Object(l.a)(i,2),d=s[0],p=s[1],v=Object(a.useState)(""),C=Object(l.a)(v,2),y=C[0],w=C[1],S=Object(a.useState)(""),M=Object(l.a)(S,2),E=M[0],F=M[1],Y=Object(a.useState)(""),k=Object(l.a)(Y,2),A=k[0],R=k[1],T=c.a.useState(""),H=Object(l.a)(T,2),I=H[0],V=H[1],B=N(),L=Object(a.useRef)(null),U=Object(a.useRef)(null),$=Object(a.useRef)(null),D=Object(a.useRef)(null),J=function(e){var r=e.target,a=r.name,c=r.value;if("cardCvv"===a){/^[0-9]{0,4}$/.test(e.target.value)&&V(c)}else"cardHolder"===a&&w(c),"cardMonth"===a&&F(c),"cardYear"===a&&R(c);t(a,c)},P=function(e){for(var t="",r=[{regEx:/^4[0-9]{5}/gi,cardType:"VISA"},{regEx:/^5[1-5][0-9]{4}/gi,cardType:"MASTERCARD"},{regEx:/^3[47][0-9]{3}/gi,cardType:"AMEX"},{regEx:/^(5[06-8]\d{4}|6\d{5})/gi,cardType:"MAESTRO"}],a=0;a<r.length;a++)if(e.match(r[a].regEx)){t=r[a].cardType;break}if(0===e.indexOf("50")||0===e.indexOf("60")||0===e.indexOf("65"))for(var c="508500-508999|606985-607984|608001-608500|652150-653149".split("|"),n=0;n<c.length;n++){var i=parseInt(c[n].split("-")[0],10),s=parseInt(c[n].split("-")[1],10);if(e.substr(0,6)>=i&&e.substr(0,6)<=s&&e.length>=6){t="RUPAY";break}}return t},G=function(e,t,r,a){L.current.style.display="block",L.current.style.borderColor="white",L.current.style.transform="translate(".concat(e,"rem,").concat(t,"rem)"),L.current.style.height="".concat(a,"rem"),L.current.style.width="".concat(r,"rem")},W=function(){G("23","13.5","6","3.5")},X=function(){L.current.style.borderColor="transparent",L.current.style.transform="translate(0,0)"};return Object(O.jsxs)("div",{className:"credit-form-container",children:[Object(O.jsx)("div",{className:"card-list",children:n}),Object(O.jsx)("div",{ref:L,className:"card-box"}),Object(O.jsx)("div",{className:"credit-form-inner",children:Object(O.jsxs)(o.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",spacing:3,children:[Object(O.jsxs)(o.a,{item:!0,xs:12,className:"pb-28",children:[Object(O.jsx)(u.a,{htmlFor:"my-input",children:"Card Number"}),Object(O.jsx)(j.a,{ref:U,type:"text",value:d,className:"form-control",autoComplete:"off",label:"Enter Card Number",variant:"outlined",name:"cardNumber",onChange:function(e){var r=e.target,a=r.name,c=r.value,n=e.target.value.replaceAll(" ","");if(/^[0-9]{0,16}$/.test(n)){var i=P(n).toLowerCase();if("amex"===(i=0===i.length?"visa":i)){var s=(n.slice(0,4).replace(/(.{4})/g,"$1 ")+n.slice(4,10).replace(/(.{6})/g,"$1 ")+n.slice(10,15)).trim();p(s)}else p(n.replace(/(.{4})/g,"$1 ").trim());t(a,c)}},onFocus:function(){G("1.5","9","21","3")},onBlur:X})]}),Object(O.jsxs)(o.a,{item:!0,xs:12,children:[Object(O.jsx)(u.a,{htmlFor:"my-input",children:"Card Holder"}),Object(O.jsx)(j.a,{ref:$,value:y,style:{width:"100%"},id:"outlined-basic",name:"cardHolder",type:"tel",autoComplete:"off",label:"Enter Card Holder",onChange:J,onFocus:function(){G("1.5","13.5","21.5","3.6")},onBlur:X,variant:"outlined"})]}),Object(O.jsxs)(o.a,{item:!0,xs:3,spacing:3,children:[Object(O.jsx)(u.a,{htmlFor:"my-input",children:"Expiry Date"}),Object(O.jsxs)(m.a,{variant:"outlined",className:B.formControl,children:[Object(O.jsx)(u.a,{id:"demo-simple-select-outlined-label",children:"Month"}),Object(O.jsx)(b.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",name:"cardMonth",onChange:J,onFocus:W,onBlur:X,value:E,label:"Month",ref:D,children:x.map((function(e,t){return Object(O.jsx)(f.a,{value:e,children:e})}))})]})]}),Object(O.jsx)(o.a,{item:!0,xs:3,className:" pt-28",children:Object(O.jsxs)(m.a,{variant:"outlined",className:B.formControl,children:[Object(O.jsx)(u.a,{id:"demo-simple-select-outlined-label",children:"Year"}),Object(O.jsx)(b.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",name:"cardYear",onChange:J,onFocus:W,onBlur:X,value:A,ref:D,label:"Year",children:g.map((function(e,t){return Object(O.jsx)(f.a,{value:e,children:e})}))})]})}),Object(O.jsxs)(o.a,{item:!0,xs:6,children:[Object(O.jsx)(u.a,{htmlFor:"my-input",children:"CVV"}),Object(O.jsx)(j.a,{style:{width:"100%"},value:I,onFocus:function(){r("180deg")},onBlur:function(){r("360deg")},name:"cardCvv",onChange:J,id:"outlined-basic",type:"tel",autoComplete:"off",label:"Enter CVV",variant:"outlined"})]}),Object(O.jsx)(o.a,{item:!0,xs:12,children:Object(O.jsx)(h.a,{className:"form-submit",onClick:function(){p(""),w(""),F(""),R(""),t("clear-form","")},variant:"contained",color:"primary",children:"Submit"})})]})})]})}var y=r(38),w=r(25),S={visa:"^4",amex:"^(34|37)",mastercard:"^5[1-5]",discover:"^6011",unionpay:"^62",troy:"^9792",diners:"^(30[0-5]|36)"},M=function(e){var t=Object(a.useState)([]),r=Object(l.a)(t,2),c=r[0],n=r[1],i=Object(a.useMemo)((function(){return function(e){for(var t,r=e,a=0,c=Object.entries(S);a<c.length;a++){var n=Object(l.a)(c[a],2),i=n[0],s=n[1];if(t=new RegExp(s),null!=r.match(t))return i}return"visa"}(e.cardNumber)}),[e.cardNumber]);return Object(a.useEffect)((function(){var t,r=[],a=e.cardCvv.split(""),c=Object(y.a)(a);try{for(c.s();!(t=c.n()).done;){t.value&&r.push("*")}}catch(i){c.e(i)}finally{c.f()}n(r)}),[e.cardCvv]),Object(O.jsx)("div",{children:Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{className:"blackStrip"}),Object(O.jsx)("div",{className:"m-2 mt-3 d-flex justify-content-end",children:Object(O.jsx)("div",{className:"cvv",children:"CVV"})}),Object(O.jsx)("div",{className:"m-2 whiteStrip d-flex justify-content-end",children:Object(O.jsx)("div",{className:"cvvValue",children:e.cardCvv&&c.map((function(e,t){return Object(O.jsx)(w.a,{inline:!0,text:e,springConfig:{stiffness:80,damping:20},direction:"down",className:"num pr-3"},t)}))})}),Object(O.jsx)("div",{className:"mt-4 m-1 d-flex justify-content-end",children:Object(O.jsx)("img",{alt:i,src:"/Spak-Cred"+"/credit-card-types/".concat(i,".png"),className:"card-type-image"})})]})})},E={visa:"^4",amex:"^(34|37)",mastercard:"^5[1-5]",discover:"^6011",unionpay:"^62",troy:"^9792",diners:"^(30[0-5]|36)"},F=function(e){var t=Object(a.useState)("#### #### #### ####".split("")),r=Object(l.a)(t,2),c=r[0],n=r[1],i=Object(a.useMemo)((function(){return function(e){for(var t,r=e,a=0,c=Object.entries(E);a<c.length;a++){var n=Object(l.a)(c[a],2),i=n[0],s=n[1];if(t=new RegExp(s),null!=r.match(t))return i}return"visa"}(e.cardNumber)}),[e.cardNumber]);Object(a.useEffect)((function(){var e=c.map(s);n(e)}),[e.cardNumber]);var s=function(t,r){return"amex"===e.type?4===r||11===r?" ":r<4||r>13?void 0===e.cardNumber[r]?"#":e.cardNumber[r]:void 0===e.cardNumber[r]?"#":"*":4===r||9===r||14===r?" ":r<4||r>14?void 0===e.cardNumber[r]?"#":e.cardNumber[r]:void 0===e.cardNumber[r]?"#":"*"};return Object(O.jsxs)("div",{style:{color:"white"},children:[Object(O.jsxs)("div",{className:"p-4 d-flex justify-content-between",children:[Object(O.jsx)("img",{src:"/Spak-Cred/credit-card-images/chip.png",className:"chip",alt:"chip"}),Object(O.jsx)("img",{alt:i,src:"/Spak-Cred"+"/credit-card-types/".concat(i,".png"),className:"card-type-image"})]}),Object(O.jsx)("div",{className:"numRow mt-3 align-middle card-number-section",children:Object(O.jsx)("strong",{children:"amex"===e.type?c.slice(0,17).map((function(e,t){return Object(O.jsx)(w.a,{inline:!0,text:e,springConfig:{stiffness:80,damping:20},direction:"down",className:"num pr-3"},t)})):c.map((function(e,t){return Object(O.jsx)(w.a,{inline:!0,text:e,springConfig:{stiffness:80,damping:20},direction:"down",className:"num pr-3"},t)}))})}),Object(O.jsxs)("div",{className:"row card-holder-expiry-section",children:[Object(O.jsxs)("div",{className:"col-9",children:[Object(O.jsx)("div",{className:"row h6 metaText",children:"Card Holder"}),Object(O.jsx)("div",{className:"row h6",children:Object(O.jsx)("div",{className:"pr-3 h6 card-holder-name",children:e.cardHolder||"VALLEM SURYA BALAJI"})})]}),Object(O.jsxs)("div",{className:"col-3",children:[Object(O.jsx)("div",{className:"row h6 metaText",children:"Expiry"}),Object(O.jsxs)("div",{className:"row h6",children:[Object(O.jsx)(w.a,{inline:!0,text:e.cardMonth||"MM",springConfig:{stiffness:80,damping:20},className:"p-0 h6 mon",direction:"down"}),"/",Object(O.jsx)(w.a,{inline:!0,text:e.cardYear.toString().substr(2,2)||"YY",springConfig:{stiffness:80,damping:20},className:"p-0 h6",direction:"down"})]})]})]})]})},Y=function(){var e=Math.floor(25*Math.random()+1);return"".concat(e,".jpeg")}(),k=function(e){var t=Object(a.useRef)({});Object(a.useEffect)((function(){t.current.style.transform="rotateY("+e.toggle+")"}),[e.toggle]);var r={backgroundImage:"url(".concat("/Spak-Cred","/credit-card-background/").concat(Y,")")};return Object(O.jsx)("div",{className:"card-container",children:Object(O.jsxs)("div",{className:"card-main",ref:t,children:[Object(O.jsx)("div",{className:"card-img card-front ",style:r,children:Object(O.jsx)(F,{cardNumber:e.cardNumber,cardHolder:e.cardHolder,cardMonth:e.cardMonth,cardYear:e.cardYear})}),Object(O.jsx)("div",{className:"card-img card-back",style:r,children:Object(O.jsx)(M,{cardNumber:e.cardNumber,cardCvv:e.cardCvv})})]})})},A={cardNumber:"#### #### #### ####",cardHolder:"VALLEM SURYA BALAJI",cardMonth:"",cardYear:"",cardCvv:"",isCardFlipped:!1,toggle:"0deg",fieldType:""},R=function(){var e=Object(a.useState)(A),t=Object(l.a)(e,2),r=t[0],c=t[1],n=Object(a.useCallback)((function(e,t){c("clear-form"===e?A:Object(d.a)(Object(d.a)({},r),{},Object(s.a)({},e,t||A[e])))}),[r]),i=Object(a.useCallback)((function(e){c(Object(d.a)(Object(d.a)({},r),{},{toggle:e||A.toggle}))}),[r]);return Object(O.jsx)("div",{className:"wrapper",children:Object(O.jsx)(C,{cardMonth:r.cardMonth,cardYear:r.cardYear,onUpdateState:n,onFlipCreditCard:i,children:Object(O.jsx)(k,{cardNumber:r.cardNumber,cardHolder:r.cardHolder,cardMonth:r.cardMonth,cardYear:r.cardYear,cardCvv:r.cardCvv,isCardFlipped:r.isCardFlipped,toggle:r.toggle,onUpdateState:!0,onFlipCreditCard:!0})})})};var T=function(){return Object(O.jsx)(R,{})},H=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,118)).then((function(t){var r=t.getCLS,a=t.getFID,c=t.getFCP,n=t.getLCP,i=t.getTTFB;r(e),a(e),c(e),n(e),i(e)}))};i.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(T,{})}),document.getElementById("root")),H()}},[[70,1,2]]]);
//# sourceMappingURL=main.7a22ab9f.chunk.js.map